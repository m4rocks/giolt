---
import Layout from "@/layouts/dashboard-layout.astro";
import { protectRoute } from "@/lib/clerk";
import { OrganizationList } from "@clerk/astro/components";

const res = await protectRoute(Astro, {
	needsSelectedOrg: false,
	needsSubscription: false,
});
if (res) return res;
---

<Layout title="Select organization" class="flex flex-col justify-center items-center">
	<OrganizationList
		hidePersonal
		afterSelectOrganizationUrl="/dashboard"
		afterCreateOrganizationUrl="/subscribe"
	/>
</Layout>
